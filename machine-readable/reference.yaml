# claude-code-reference.yaml
# Quick lookup for Claude Code - comprehensive index
# Source: guide/ultimate-guide.md
# Purpose: Condensed index for LLMs to quickly answer user questions about Claude Code

version: "3.23.2"
updated: "2026-02-07"

# ════════════════════════════════════════════════════════════════
# DEEP DIVE - Line numbers in guide/ultimate-guide.md
# Usage: Read file at line N for detailed documentation on topic
# For architecture internals, see guide/architecture.md
# ════════════════════════════════════════════════════════════════
deep_dive:
  # AI-Assisted Development Workflows (from MetalBear/arXiv research)
  exploration_workflow: "guide/workflows/exploration-workflow.md"
  script_generation: "guide/workflows/iterative-refinement.md:192"
  anti_anchoring_prompts: "examples/semantic-anchors/anchor-catalog.md:240"
  session_limits: "guide/architecture.md:272"
  claudemd_sizing: 3054
  scope_success_rates: "guide/adoption-approaches.md:20"
  # Claude Code Releases
  claude_code_releases: "guide/claude-code-releases.md"
  claude_code_releases_yaml: "machine-readable/claude-code-releases.yaml"
  # Code Review Automation (Pat Cullen, Jan 2026)
  review_pr_advanced: "examples/commands/review-pr.md:81"
  review_anti_hallucination: "examples/agents/code-reviewer.md:75"
  review_auto_fix_loop: "guide/workflows/iterative-refinement.md:347"
  # Known Issues & Critical Bugs (verified community reports)
  known_issues: "guide/known-issues.md"
  known_issues_github_bug: "guide/known-issues.md:16"  # GitHub auto-creation bug
  known_issues_token_consumption: "guide/known-issues.md:136"  # Excessive token usage
  known_issues_model_quality_aug2025: "guide/known-issues.md:231"  # Resolved: Aug 2025 degradation
  # Template Installation
  install_templates_script: "scripts/install-templates.sh"
  # Session management
  session_search: "guide/observability.md:29"
  session_search_script: "examples/scripts/session-search.sh"
  # Cost optimization - Local execution bridge
  bridge_script: "examples/scripts/bridge.py"
  bridge_schema: "examples/scripts/bridge-plan-schema.json"
  bridge_guide: "guide/ultimate-guide.md:14079"
  # Cost optimization - RTK (Rust Token Killer)
  rtk_upstream: "https://github.com/pszymkowiak/rtk"
  rtk_fork_extended: "https://github.com/FlorianBruniaux/rtk"
  rtk_evaluation: "docs/resource-evaluations/rtk-evaluation.md"
  rtk_guide: "guide/ultimate-guide.md:11084"
  rtk_third_party: "guide/third-party-tools.md:86"
  rtk_claude_md: "examples/claude-md/rtk-optimized.md"
  rtk_skill: "examples/skills/rtk-optimizer/SKILL.md"
  rtk_hook: "examples/hooks/bash/rtk-auto-wrapper.sh"
  rtk_pr_proposals: "claudedocs/rtk-pr-proposals.md"
  rtk_purpose: "Command output filtering before LLM context (72.6% avg reduction)"
  rtk_version_tested: "v0.2.0"
  rtk_score: "4/5"
  rtk_installation: "Binary download (GitHub releases)"
  # PDF Generation
  pdf_generation: "guide/workflows/pdf-generation.md"
  pdf_generator_skill: "examples/skills/pdf-generator.md"
  whitepapers_example: "whitepapers/README.md"  # Local example only (gitignored)
  # Learning with AI (guide/learning-with-ai.md)
  learning_quick_check: "guide/learning-with-ai.md:31"
  learning_uval_protocol: "guide/learning-with-ai.md:127"
  learning_claude_config: "guide/learning-with-ai.md:353"
  learning_breaking_dependency: "guide/learning-with-ai.md:470"
  learning_embracing_ai: "guide/learning-with-ai.md:518"
  learning_30day_plan: "guide/learning-with-ai.md:710"
  learning_red_flags: "guide/learning-with-ai.md:770"
  learning_mode_template: "examples/claude-md/learning-mode.md"
  learn_quiz_command: "examples/commands/learn/quiz.md"
  learn_teach_command: "examples/commands/learn/teach.md"
  learn_alternatives_command: "examples/commands/learn/alternatives.md"
  learning_capture_hook: "examples/hooks/bash/learning-capture.sh"
  # Anti-patterns
  vibe_coding_trap: "guide/learning-with-ai.md:81"
  vibe_coding_context_overload: 8746
  vibe_coding_context_overload_source: "Jens Rusitschka, 'Vibe Coding, Level 2' (Jan 2026)"
  vibe_coding_phased_strategy: 8760
  # AI Traceability & Attribution (guide/ai-traceability.md) - Added 2026-01-24
  ai_traceability_guide: "guide/ai-traceability.md"
  ai_traceability_why: "guide/ai-traceability.md:25"
  ai_traceability_disclosure_spectrum: "guide/ai-traceability.md:63"
  ai_traceability_co_authored_by: "guide/ai-traceability.md:89"
  ai_traceability_assisted_by: "guide/ai-traceability.md:109"
  ai_traceability_git_ai: "guide/ai-traceability.md:262"
  ai_traceability_llvm_policy: "guide/ai-traceability.md:169"
  ai_traceability_ghostty_policy: "guide/ai-traceability.md:203"
  ai_traceability_fedora_policy: "guide/ai-traceability.md:227"
  ai_traceability_promptpwnd: "guide/ai-traceability.md:342"
  ai_traceability_implementation: "guide/ai-traceability.md:392"
  ai_traceability_templates: "guide/ai-traceability.md:440"
  # AI Disclosure Templates
  ai_disclosure_contributing: "examples/config/CONTRIBUTING-ai-disclosure.md"
  ai_disclosure_pr_template: "examples/config/PULL_REQUEST_TEMPLATE-ai.md"
  # TTS Integration (Agent Vibes) - Added 2026-01-22
  tts_integration_guide: "examples/integrations/agent-vibes/README.md"
  tts_installation: "examples/integrations/agent-vibes/installation.md"
  tts_voice_catalog: "examples/integrations/agent-vibes/voice-catalog.md"
  tts_troubleshooting: "examples/integrations/agent-vibes/troubleshooting.md"
  tts_workflow: "guide/workflows/tts-setup.md"
  tts_ai_ecosystem: "guide/ai-ecosystem.md:507"
  tts_hook_example: "examples/hooks/bash/tts-selective.sh"
  tts_claude_md_template: "examples/claude-md/tts-enabled.md"
  # Sandbox Isolation for Coding Agents (guide/sandbox-isolation.md) - Added 2026-01-31
  sandbox_isolation_guide: "guide/sandbox-isolation.md"
  sandbox_isolation_decision_tree: "guide/sandbox-isolation.md:40"
  sandbox_docker_sandboxes: "guide/sandbox-isolation.md:61"
  sandbox_docker_network: "guide/sandbox-isolation.md:121"
  sandbox_docker_templates: "guide/sandbox-isolation.md:165"
  sandbox_docker_docs: "https://docs.docker.com/ai/sandboxes/"
  sandbox_docker_claude_config: "https://docs.docker.com/ai/sandboxes/claude-code/"
  sandbox_docker_network_docs: "https://docs.docker.com/ai/sandboxes/network-policies/"
  sandbox_docker_templates_docs: "https://docs.docker.com/ai/sandboxes/templates/"
  sandbox_flyio_sprites: "https://sprites.dev"
  sandbox_cloudflare_sdk: "https://developers.cloudflare.com/sandbox/tutorials/claude-code/"
  sandbox_vercel: "https://vercel.com/docs/vercel-sandbox/"
  sandbox_e2b: "https://e2b.dev"
  sandbox_native_cc: "guide/architecture.md:579"
  # Native Claude Code Sandbox (Official docs, v2.1.0+) - Added 2026-02-02
  sandbox_native_guide: "guide/sandbox-native.md"
  sandbox_native_why: "guide/sandbox-native.md:47"  # Why Native Sandboxing
  sandbox_native_os_primitives: "guide/sandbox-native.md:68"  # Seatbelt vs bubblewrap
  sandbox_native_filesystem: "guide/sandbox-native.md:172"  # Filesystem isolation
  sandbox_native_network: "guide/sandbox-native.md:216"  # Network proxy architecture
  sandbox_native_modes: "guide/sandbox-native.md:296"  # Auto-allow vs Regular
  sandbox_native_escape_hatch: "guide/sandbox-native.md:336"  # dangerouslyDisableSandbox
  sandbox_native_security_limits: "guide/sandbox-native.md:391"  # Domain fronting, Unix sockets
  sandbox_native_opensource: "guide/sandbox-native.md:476"  # Open-source runtime
  sandbox_native_platforms: "guide/sandbox-native.md:500"  # Platform support
  sandbox_native_decision_tree: "guide/sandbox-native.md:512"  # Native vs Docker
  sandbox_native_config_examples: "guide/sandbox-native.md:559"  # Configuration examples
  sandbox_native_best_practices: "guide/sandbox-native.md:646"  # Best practices
  sandbox_native_troubleshooting: "guide/sandbox-native.md:659"  # Troubleshooting
  sandbox_runtime_oss: "https://github.com/anthropic-experimental/sandbox-runtime"
  sandbox_runtime_npm: "https://www.npmjs.com/package/@anthropic-ai/sandbox-runtime"
  sandbox_official_docs: "https://code.claude.com/docs/en/sandboxing"
  sandbox_comparison_native_docker: "guide/sandbox-isolation.md:61"  # Section 4 Native CC
  sandbox_native_evaluation: "docs/resource-evaluations/native-sandbox-official-docs.md"
  sandbox_native_score: "5/5"
  # Templates (Added 2026-02-02)
  sandbox_native_config_template: "examples/config/sandbox-native.json"
  sandbox_status_command: "examples/commands/sandbox-status.md"
  sandbox_validation_hook: "examples/hooks/bash/sandbox-validation.sh"
  # Docker Sandboxes (existing)
  sandbox_evaluation: "docs/resource-evaluations/docker-sandboxes-isolation.md"
  sandbox_safe_autonomy: "guide/sandbox-isolation.md:486"  # Updated line number (was 320)
  sandbox_anti_patterns: "guide/sandbox-isolation.md:538"  # Updated line number (was 372)
  sandbox_comparison_matrix: "guide/sandbox-isolation.md:469"  # Updated line number (was 306)
  sandbox_score: "4/5"
  # Third-Party Tools (guide/third-party-tools.md) - Added 2026-02-01
  third_party_tools_guide: "guide/third-party-tools.md"
  third_party_tools_cost_tracking: "guide/third-party-tools.md:42"
  third_party_tools_rtk: "guide/third-party-tools.md:86"
  third_party_tools_session_mgmt: "guide/third-party-tools.md:105"
  third_party_tools_config_mgmt: "guide/third-party-tools.md:132"
  third_party_tools_alternative_uis: "guide/third-party-tools.md:170"
  third_party_tools_known_gaps: "guide/third-party-tools.md:259"
  third_party_tools_recommendations: "guide/third-party-tools.md:274"
  third_party_ccusage: "https://www.npmjs.com/package/ccusage"
  third_party_ccusage_site: "https://ccusage.com"
  third_party_ccburn: "https://github.com/JuanjoFuchs/ccburn"
  third_party_claude_code_viewer: "https://www.npmjs.com/package/@kimuson/claude-code-viewer"
  third_party_claude_code_config: "https://github.com/joeyism/claude-code-config"
  third_party_aiblueprint: "https://github.com/Melvynx/aiblueprint"
  third_party_claude_chic: "https://pypi.org/project/claudechic/"
  third_party_toad: "https://github.com/batrachianai/toad"
  third_party_conductor: "https://docs.conductor.build"
  # Configuration Management & Backup (Added 2026-02-02)
  config_management_guide: "guide/ultimate-guide.md:4085"  # Section 3.23.2
  config_hierarchy: "guide/ultimate-guide.md:4095"  # Global → Project → Local precedence
  config_git_strategy_project: "guide/ultimate-guide.md:4110"  # What to commit in .claude/
  config_git_strategy_global: "guide/ultimate-guide.md:4133"  # Version control ~/.claude/
  config_backup_strategies: "guide/ultimate-guide.md:4171"  # Git, cloud sync, cron
  config_multi_machine_sync: "guide/ultimate-guide.md:4183"  # Laptop + desktop workflows
  config_security_considerations: "guide/ultimate-guide.md:4219"  # Never commit secrets
  config_disaster_recovery: "guide/ultimate-guide.md:4233"  # Restore from backup
  config_community_solutions: "guide/ultimate-guide.md:4249"  # brianlovin + Ratinaud
  config_github_issue: "https://github.com/anthropics/claude-code/issues/16204"  # Migration guidance request
  config_brianlovin_repo: "https://github.com/brianlovin/claude-config"  # Community example with sync.sh
  config_ratinaud_approach: "https://www.linkedin.com/posts/martinratinaud_claudecode-devtools-buildinpublic-activity-7424055660247629824-hBsL"  # 504 sessions tested
  config_ratinaud_evaluation: "docs/resource-evaluations/ratinaud-config-management-evaluation.md"  # Full evaluation
  # MCP Secrets Management (Added 2026-02-02)
  mcp_secrets_management: "guide/ultimate-guide.md:8113"  # Section 8.3.1
  mcp_secrets_principles: "guide/ultimate-guide.md:8121"  # Security principles
  mcp_secrets_os_keychain: "guide/ultimate-guide.md:8141"  # Approach 1: OS Keychain
  mcp_secrets_env_file: "guide/ultimate-guide.md:8197"  # Approach 2: .env + .gitignore
  mcp_secrets_vaults: "guide/ultimate-guide.md:8273"  # Approach 3: HashiCorp Vault, AWS, 1Password
  mcp_secrets_rotation: "guide/ultimate-guide.md:8325"  # Rotation workflow
  mcp_secrets_pre_commit: "guide/ultimate-guide.md:8363"  # Secret detection hook
  mcp_secrets_verification: "guide/ultimate-guide.md:8386"  # Verification checklist
  mcp_secrets_best_practices: "guide/ultimate-guide.md:8406"  # Summary table
  # Templates & Scripts (Configuration Management)
  sync_claude_config_script: "examples/scripts/sync-claude-config.sh"  # Full automation script
  pre_commit_secrets_hook: "examples/hooks/bash/pre-commit-secrets.sh"  # Git hook for secret detection
  settings_local_example: "examples/config/settings.local.json.example"  # Machine-specific overrides template
  # Visual Reference (ASCII diagrams)
  visual_reference: "guide/visual-reference.md"
  # Architecture internals (guide/architecture.md)
  architecture_visual_overview: "guide/architecture.md:41"
  architecture_visual_source: "https://www.linkedin.com/posts/mohamed-ali-ben-salem-2b777b9a_en-ce-moment-je-vois-passer-des-posts-du-activity-7420592149110362112-eY5a"
  architecture_master_loop: "guide/architecture.md:72"
  architecture_tools: "guide/architecture.md:213"
  architecture_context: "guide/architecture.md:306"
  architecture_subagents: "guide/architecture.md:444"
  architecture_permissions: "guide/architecture.md:514"
  architecture_mcp: "guide/architecture.md:719"
  architecture_mcp_visual: "guide/images/mcp-architecture-diagram.svg"
  architecture_philosophy: "guide/architecture.md:1177"
  # System Prompts (Official Sources) - Added 2026-01-26
  system_prompts_official: "https://platform.claude.com/docs/en/release-notes/system-prompts"
  system_prompts_willison_analysis: "https://simonwillison.net/2025/May/25/claude-4-system-prompt/"
  system_prompts_prompthub: "https://www.prompthub.us/blog/an-analysis-of-the-claude-4-system-prompt"
  system_prompts_architecture: "guide/architecture.md:354"
  # MCP Apps Extension (SEP-1865) - Added 2026-01-27
  mcp_apps_architecture: "guide/architecture.md:795"
  mcp_apps_evolution: "guide/ultimate-guide.md:6509"
  mcp_apps_spec: "https://github.com/modelcontextprotocol/ext-apps"
  mcp_apps_blog_mcp: "https://blog.modelcontextprotocol.io/posts/2026-01-26-mcp-apps/"
  mcp_apps_blog_claude: "https://claude.com/blog/interactive-tools-in-claude"
  mcp_apps_sdk: "https://www.npmjs.com/package/@modelcontextprotocol/ext-apps"
  mcp_apps_announcement_date: "2026-01-26"
  mcp_apps_cli_relevance: "Indirect (ecosystem understanding, MCP server dev, hybrid workflows)"
  # Main guide (guide/ultimate-guide.md) - Updated 2026-01-27
  installation: 196
  first_workflow: 277
  essential_commands: 326
  trust_calibration: 1039
  working_with_images: 422
  wireframing_tools: 492
  figma_mcp: 529
  image_optimization: 594
  permission_modes: 760
  interaction_loop: 1299
  context_management: 1335
  context_triage: 1448
  session_vs_memory: 1481
  fresh_context_pattern: 1525
  subscription_limits: 1933
  subscription_token_budgets: 1948
  subscription_opus_ratio: 1946
  subscription_monitoring: 1985
  plan_mode: 2100
  rewind: 2278
  mental_model: 2360
  xml_prompting: 2419
  prompting_provocation: 3029
  prompting_provocation_source: "https://paddo.dev/blog/claude-code-team-tips/"
  semantic_anchors: 2904
  semantic_anchors_catalog: "examples/semantic-anchors/anchor-catalog.md"
  memory_files: 3160
  # Task Management System (v2.1.16+) - Added 2026-01-26
  task_management_system: 3127
  task_management_comparison: 3140
  tasks_api_overview: 3150
  tasks_api_tools: 3160
  tasks_api_capabilities: 3170
  tasks_api_configuration: 3180
  tasks_api_schema: 3195
  tasks_api_when_to_use: 3210
  tasks_api_limitations: 3195
  tasks_api_field_visibility: "TaskList: id/subject/status/owner/blockedBy only. TaskGet: all fields."
  tasks_api_cost_overhead: "Reviewing N task descriptions = 1 + N API calls"
  tasks_api_workarounds: 3210
  todowrite_legacy: 3260
  todowrite_when_to_use: 3230
  todowrite_migration_flag: 3240
  task_best_practices: 3250
  task_hierarchy_design: 3252
  task_dependency_management: 3256
  task_status_transitions: 3260
  task_metadata_conventions: 3264
  task_complete_workflow: 3270
  task_sources: 3280
  # Task Management Workflow (guide/workflows/task-management.md)
  workflows_task_management: "guide/workflows/task-management.md"
  task_workflow_overview: "guide/workflows/task-management.md:15"
  task_workflow_planning: "guide/workflows/task-management.md:48"
  task_workflow_execution: "guide/workflows/task-management.md:160"
  task_workflow_session_mgmt: "guide/workflows/task-management.md:260"
  task_workflow_tdd_integration: "guide/workflows/task-management.md:370"
  task_workflow_plan_integration: "guide/workflows/task-management.md:440"
  task_workflow_migration: "guide/workflows/task-management.md:510"
  task_workflow_patterns: "guide/workflows/task-management.md:620"
  task_workflow_troubleshooting: "guide/workflows/task-management.md:740"
  task_workflow_advanced: "guide/workflows/task-management.md:820"
  claude_folder: 3413
  settings: 3464
  precedence_rules: 3686
  agents: 3827
  agent_template: 3900
  agent_examples: 4038
  skills: 4420
  skill_template: 4540
  skill_examples: 4608
  design_patterns_skill: 4799
  design_patterns_skill_location: "examples/skills/design-patterns/"
  design_patterns_skill_modes: "Detection, Suggestion, Evaluation"
  design_patterns_skill_patterns: "23 GoF patterns (Creational 5, Structural 7, Behavioral 11)"
  design_patterns_skill_stacks: "React, Angular, NestJS, Vue, Express, RxJS, Redux, ORMs"
  community_skills_cybersec: 4947
  community_skills_iac: 5030
  # Automatic skill generation (meta-skill)
  claudeception: "https://github.com/blader/Claudeception"
  claudeception_guide: 5095
  # Skill Lifecycle: Automatic improvement (added 2026-01-24)
  skill_lifecycle: 5118
  claude_reflect_system: 5161
  claude_reflect_system_repo: "https://github.com/haddock-development/claude-reflect-system"
  claude_reflect_system_agent_skills: "https://agent-skills.md/skills/haddock-development/claude-reflect-system/reflect"
  skill_improvement_pattern: 5161
  skill_improvement_how_it_works: 5169
  skill_improvement_safety: 5188
  skill_improvement_security_warnings: 5237
  skill_improvement_comparison: 5263
  skill_improvement_workflow: 5275
  # Agent Skills Open Standard (added 2026-02-01)
  agentskills_spec: "https://agentskills.io"
  agentskills_spec_repo: "https://github.com/agentskills/agentskills"
  agentskills_spec_stars: "8.2K"
  agentskills_platforms: "26+ (Claude Code, Cursor, VS Code, GitHub, Codex, Gemini CLI, Goose, Roo Code, Spring AI, Databricks...)"
  agentskills_ref_cli: "https://github.com/agentskills/agentskills/tree/main/skills-ref"
  agentskills_ref_cli_usage: "skills-ref validate <path> | skills-ref to-prompt <path>"
  anthropics_skills_repo: "https://github.com/anthropics/skills"
  anthropics_skills_stars: "60K+"
  anthropics_skills_categories: "Documents (docx/pdf/pptx/xlsx), Creative & Design, Development, Enterprise"
  anthropics_skills_install: "/plugin marketplace add anthropics/skills"
  anthropics_plugins_official_repo: "https://github.com/anthropics/claude-plugins-official"
  anthropics_plugins_official_installs: "3.1K"
  anthropics_plugins_official_skills: "claude-md-improver, claude-automation-recommender, playground, plugin dev meta-skills"
  anthropics_plugins_official_install: "npx add-skill anthropics/claude-plugins-official"
  agentskills_threat_model: "https://safedep.io/agent-skills-threat-model"
  agentskills_threat_model_finding: "8-14% of public skills have vulnerabilities (prompt injection, data exfiltration, privilege escalation)"
  agentskills_blog: "https://anthropic.com/engineering/equipping-agents-for-the-real-world-with-agent-skills"
  agentskills_guide_section: "guide/ultimate-guide.md:5180"
  agentskills_evaluation: "docs/resource-evaluations/agentskills-io-specification.md"
  agentskills_score: "4/5"
  # Skills Marketplace (added 2026-01-23)
  skills_marketplace: 5172
  skills_marketplace_url: "https://skills.sh/"
  skills_marketplace_github: "https://github.com/vercel-labs/agent-skills"
  skills_marketplace_install: "npx add-skill <owner/repo>"
  skills_marketplace_top_skills:
    - "vercel-react-best-practices: 35K+ installs"
    - "web-design-guidelines: 26.6K installs"
    - "supabase-postgres-best-practices: 1K+ installs"
    - "better-auth-best-practices: 2K+ installs"
    - "test-driven-development: 721 installs"
  skills_marketplace_status: "Community (Vercel Labs), launched Jan 21, 2026"
  skills_marketplace_changelog: "https://vercel.com/changelog/introducing-skills-the-open-agent-skills-ecosystem"
  # Plugin System & Community Marketplaces (updated 2026-01-24)
  plugins_system: 6863
  plugins_commands: 6876
  plugins_marketplace: 6890
  plugins_community_marketplaces: 7246  # New section with ecosystem stats
  plugins_recommended: "examples/plugins/"
  plugins_se_cove: "examples/plugins/se-cove.md"
  plugins_official_docs: "https://code.claude.com/docs/en/plugins"
  plugins_official_reference: "https://code.claude.com/docs/en/plugins-reference"
  plugins_official_marketplaces: "https://code.claude.com/docs/en/plugin-marketplaces"
  # Community plugin resources
  plugins_wshobson_agents:
    url: "https://github.com/wshobson/agents"
    stats: "67 plugins, 99 agents, 107 skills"
    updated: "2026-01-24"
  plugins_registry_claude_plugins_dev:
    url: "https://claude-plugins.dev"
    stats: "11,989 plugins, 63,065 skills indexed"
  plugins_registry_claudemarketplaces:
    url: "https://claudemarketplaces.com"
    purpose: "Auto-scan GitHub for .claude-plugin/marketplace.json"
  plugins_popular:
    - "Context7: ~72k installs (library docs lookup)"
    - "Ralph Wiggum: ~57k installs (code review)"
    - "Figma MCP: ~18k installs (design-to-code)"
    - "Linear MCP: ~9.5k installs (issue tracking)"
  plugins_awesome_list: "https://github.com/hesreallyhim/awesome-claude-code"
  plugins_awesome_list_stars: "20k+"
  chain_of_verification: "guide/methodologies.md:218"
  chain_of_verification_paper: "https://arxiv.org/abs/2309.11495"
  chain_of_verification_acl: "https://aclanthology.org/2024.findings-acl.212/"
  # Verification Loops & Eval Harness (added 2026-01-23)
  verification_loops: "guide/methodologies.md:218"
  verification_loops_source: "https://www.anthropic.com/engineering/claude-code-best-practices"
  eval_harness: "guide/methodologies.md:262"
  eval_harness_source: "https://www.anthropic.com/engineering/demystifying-evals-for-ai-agents"
  # GSD (Get Shit Done) methodology (added 2026-01-25)
  gsd_methodology: "guide/methodologies.md:47"
  gsd_evaluation: "docs/resource-evaluations/gsd-evaluation.md"
  gsd_source: "https://github.com/glittercowboy/get-shit-done"
  gsd_note: "Overlap with existing patterns (Ralph Loop, Gas Town, BMAD)"
  # Resource Evaluations (added 2026-01-26, updated 2026-02-07)
  resource_evaluations_directory: "docs/resource-evaluations/"
  resource_evaluations_count: 55
  resource_evaluations_methodology: "docs/resource-evaluations/README.md"
  resource_evaluations_appendix: "guide/ultimate-guide.md:15034"
  resource_evaluations_readme_section: "README.md:278"
  resource_evaluations_git_mcp: "docs/resource-evaluations/git-mcp-server-evaluation.md"
  resource_evaluations_anaconda_croce: "docs/resource-evaluations/anaconda-croce-evaluation.md"
  resource_evaluations_grenier_quality: "docs/resource-evaluations/grenier-agent-skill-quality.md"
  resource_evaluations_grenier_score: "3/5"
  resource_evaluations_grenier_gap: "No automated quality checks for agents/skills (29.5% deploy without evaluation per LangChain 2026)"
  resource_evaluations_grenier_integration: "Created /audit-agents-skills command + skill + criteria.yaml"
  # Agent/Skill Quality Audit (added 2026-02-07)
  audit_agents_skills_command: "examples/commands/audit-agents-skills.md"
  audit_agents_skills_skill: "examples/skills/audit-agents-skills/SKILL.md"
  audit_agents_skills_criteria: "examples/skills/audit-agents-skills/scoring/criteria.yaml"
  audit_agents_skills_framework: "16 criteria (Identity 3x, Prompt 2x, Validation 1x, Design 2x)"
  audit_agents_skills_scoring: "32 points max (agents/skills), 20 points (commands)"
  audit_agents_skills_grades: "A-F scale, 80% production threshold"
  audit_agents_skills_modes: "Quick (top-5), Full (all 16), Comparative (vs templates)"
  audit_agents_skills_output: "Markdown + JSON for CI/CD integration"
  audit_agents_skills_industry_context: "29.5% deploy without evaluation (LangChain 2026), 18% cite agent bugs as top challenge"
  audit_agents_skills_guide_refs: "guide/ultimate-guide.md:4951 (after Agent Validation Checklist), guide/ultimate-guide.md:5495 (after Skill Validation)"
  # Practitioner Insights (external validation)
  practitioner_insights: "guide/ai-ecosystem.md:1209"
  practitioner_dave_van_veen: "guide/ai-ecosystem.md:1213"
  practitioner_matteo_collina: "guide/ai-ecosystem.md:1243"
  practitioner_collina_source: "https://adventures.nodeland.dev/archive/the-human-in-the-loop/"
  practitioner_steinberger: "guide/ai-ecosystem.md:1997"
  practitioner_steinberger_source: "https://steipete.me/posts/2025/shipping-at-inference-speed"
  practitioner_addy_osmani: "guide/ai-ecosystem.md:2024"
  practitioner_osmani_source: "https://addyo.substack.com/p/the-80-problem-in-agentic-coding"
  practitioner_alan: "guide/ai-ecosystem.md:2133"
  practitioner_alan_source: "https://www.linkedin.com/pulse/le-principe-de-la-tour-eiffel-et-ralph-wiggum-maxime-le-bras-psmxe/"
  verification_paradox: "guide/production-safety.md:639"
  verification_paradox_source: "https://www.linkedin.com/pulse/le-principe-de-la-tour-eiffel-et-ralph-wiggum-maxime-le-bras-psmxe/"
  eighty_percent_problem: "guide/ai-ecosystem.md:2024"
  comprehension_debt_secondary: "guide/ai-ecosystem.md:2024"  # See also: vibe_coding_trap (primary)
  # DevOps/SRE Guide (guide/devops-sre.md)
  devops_sre_guide: "guide/devops-sre.md"
  devops_fire_framework: "guide/devops-sre.md:50"
  devops_k8s_troubleshooting: "guide/devops-sre.md:120"
  devops_k8s_prompts: "guide/devops-sre.md:160"
  devops_incident_response: "guide/devops-sre.md:340"
  devops_iac_patterns: "guide/devops-sre.md:520"
  devops_guardrails: "guide/devops-sre.md:650"
  devops_limitations: "guide/devops-sre.md:290"
  devops_quick_reference: "guide/devops-sre.md:750"
  devops_agent: "examples/agents/devops-sre.md"
  devops_claude_md: "examples/claude-md/devops-sre.md"
  # Product Designer (design-to-code workflow)
  product_designer_workflow: "guide/workflows/design-to-code.md"
  product_designer_claudemd: "examples/claude-md/product-designer.md"
  design_system_handoff: "guide/workflows/design-to-code.md:531"
  figma_make_integration: "guide/workflows/design-to-code.md:26"
  pencil_canvas: "guide/ultimate-guide.md:529"
  pencil_workflow: "guide/workflows/design-to-code.md:447"
  pencil_vs_figma: "guide/workflows/design-to-code.md:470"
  commands: 4950
  command_template: 5020
  hooks: 5273
  hook_templates: 5418
  security_hooks: 5680
  security_gate_hook: 6907
  security_gate_hook_source: "https://paddo.dev/blog/claude-code-team-tips/"
  mcp_servers: 5984
  serena_indexation: 6078
  serena_mcp: 6037
  doobidoo_memory_mcp: 6385
  mcp_memory_stack_patterns: 6524
  mcp_config: 6149
  mcp_security: 6517
  cicd: 6835
  ide_integration: 7524
  feedback_loops: 7594
  batch_operations: 8024
  pitfalls: 8143
  git_best_practices: 8412
  cost_optimization: 8878
  session_teleportation: 9477
  multi_instance_workflows: 9583
  boris_cherny_case_study: 9617
  boris_cherny_team_patterns: 11822
  # Dual-Instance Planning Pattern (Jon Williams, Feb 2026)
  dual_instance_planning: 12884
  dual_instance_workflow: "guide/workflows/dual-instance-planning.md"
  dual_instance_overview: 12884
  dual_instance_setup: "guide/workflows/dual-instance-planning.md:49"
  dual_instance_complete_workflow: "guide/workflows/dual-instance-planning.md:149"
  dual_instance_plan_template: "guide/workflows/dual-instance-planning.md:457"
  dual_instance_cost_analysis: "guide/workflows/dual-instance-planning.md:652"
  dual_instance_comparison: 13074  # Boris vs Jon comparison table
  dual_instance_source: "https://www.linkedin.com/posts/thatjonwilliams_ive-been-using-cursor-for-six-months-now-activity-7424481861802033153-k8bu"
  dual_instance_author: "Jon Williams (Product Designer, UK)"
  dual_instance_date: "2026-02-03"
  dual_instance_pattern: "Vertical separation (planner vs implementer) - orthogonal to Boris horizontal scaling"
  dual_instance_cost: "$100-200/month (vs $500-1K Boris pattern)"
  dual_instance_audience: "Solo devs, spec-heavy work, quality > speed"
  # External resource: Claude Code team tips (paddo.dev, Feb 2026)
  team_tips_paddo: "https://paddo.dev/blog/claude-code-team-tips/"
  team_tips_paddo_source: "Boris Cherny thread (x.com/bcherny/status/2017742741636321619)"
  team_tips_paddo_evaluation: "docs/resource-evaluations/paddo-team-tips-eval.md"
  team_tips_paddo_score: "4/5"
  anthropic_study_metrics: 9721
  # Contribution Metrics (Jan 2026 - platform feature, not CLI release)
  contribution_metrics: 11625
  contribution_metrics_source: "https://claude.com/blog/contribution-metrics"
  contribution_metrics_date: "2026-01-29"
  contribution_metrics_availability: "Public beta - Team and Enterprise plans"
  contribution_metrics_stats: "+67% PRs merged/engineer/day, 70-90% AI-assisted code (Anthropic internal)"
  git_worktrees_multi_instance: 10634
  advanced_worktree_tooling: 10748
  worktree_tooling_self_assessment: 10762
  anthropic_internal_study: 10921
  multi_instance_costs: 10955
  orchestration_frameworks: 10992
  headless_pm_framework: 11004
  multi_instance_implementation: 11030
  multi_instance_monitoring: 11103
  multi_instance_decision_matrix: 11176
  # External orchestration systems
  external_orchestrators:
    gas_town:
      repo: "https://github.com/steveyegge/gastown"
      author: "Steve Yegge"
      description: "Multi-agent workspace manager using Claude Code instances"
      status: "Experimental (Jan 2026)"
      guide_section: "guide/ai-ecosystem.md:850"
    multiclaude:
      repo: "https://github.com/dlorenc/multiclaude"
      author: "dlorenc"
      description: "Self-hosted multi-agent Claude Code spawner (tmux + git worktrees)"
      status: "Active development (Jan 2026, 383 stars)"
      guide_section: "guide/ai-ecosystem.md:850"
    agent_chat:
      repo: "https://github.com/justinabrahms/agent-chat"
      author: "Justin Abrahms"
      description: "Real-time monitoring UI for Gas Town and multiclaude (SSE + SQLite)"
      status: "Early preview (Jan 2026, v0.2.0)"
      guide_section: "guide/ai-ecosystem.md:850"
  # External research & alignment tools
  external_research:
    claude_constitution:
      url: "https://www.anthropic.com/constitution"
      pdf: "https://www-cdn.anthropic.com/9214f02e82c4489fb6cf45441d448a1ecd1a3aca/claudes-constitution.pdf"
      announcement: "https://www.anthropic.com/news/claude-new-constitution"
      description: "Claude's Constitutional AI framework - value hierarchy (safety > ethics > compliance > utility)"
      license: "CC0 1.0 (public domain)"
      published: "2026-01-21"
      guide_section: "guide/data-privacy.md:296"
    petri_v2:
      repo: "https://github.com/safety-research/petri"
      blog: "https://alignment.anthropic.com/2026/petri-v2/"
      description: "Open-source AI behavior audit tool (Anthropic Alignment Science)"
      features:
        - "70 scenarios: collusion, ethics conflicts, info sensitivity"
        - "Eval-awareness mitigations"
        - "Benchmarks: Claude Opus 4.5, GPT-5.2, Gemini 3 Pro, Grok 4"
      published: "2026-01-21"
      guide_section: "README.md:338"
  # Section 9.18 - Codebase Design for Agent Productivity
  codebase_design_agents: 9976
  codebase_design_source: "https://marmelab.com/blog/2026/01/21/agent-experience.html"
  codebase_design_author: "François Zaninotto (Marmelab)"
  # Section 9.19 - Permutation Frameworks
  permutation_frameworks: 13947
  # Section 9.20 - Agent Teams (v2.1.32+ experimental)
  agent_teams: "guide/workflows/agent-teams.md"
  agent_teams_quick_start: "guide/workflows/agent-teams-quick-start.md"  # Practical 8-10 min guide with copy-paste patterns
  agent_teams_overview: 15992  # Section 9.20 in ultimate-guide.md
  agent_teams_architecture: "guide/workflows/agent-teams.md:59"
  agent_teams_setup: "guide/workflows/agent-teams.md:104"
  agent_teams_use_cases: "guide/workflows/agent-teams.md:232"
  agent_teams_fountain_case_study: "guide/workflows/agent-teams.md:254"
  agent_teams_cred_case_study: "guide/workflows/agent-teams.md:282"
  agent_teams_c_compiler_case_study: "guide/workflows/agent-teams.md:308"
  agent_teams_paul_rayner_workflows: "guide/workflows/agent-teams.md:352"
  agent_teams_workflow_impact: "guide/workflows/agent-teams.md:443"
  agent_teams_limitations: "guide/workflows/agent-teams.md:529"
  agent_teams_decision_tree: "guide/workflows/agent-teams.md:723"
  agent_teams_best_practices: "guide/workflows/agent-teams.md:789"
  agent_teams_troubleshooting: "guide/workflows/agent-teams.md:978"
  agent_teams_experimental_flag: "CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS=true"
  agent_teams_model_requirement: "Opus 4.6 minimum"
  agent_teams_sources:
    - "https://www.anthropic.com/news/claude-opus-4-6"
    - "https://www.anthropic.com/engineering/building-c-compiler"
    - "https://resources.anthropic.com/hubfs/2026%20Agentic%20Coding%20Trends%20Report.pdf"
    - "https://dev.to/thegdsks/claude-opus-46-for-developers-agent-teams-1m-context-and-what-actually-matters-4h8c"
    - "https://www.linkedin.com/posts/thepaulrayner_this-is-wild-i-just-upgraded-claude-code-activity-7425635159678414850-MNyv"
  # Advanced Plan Mode Patterns
  rev_the_engine: 2323
  mechanic_stacking: 2371
  # Sub-Agent Patterns
  split_role_sub_agents: 3546
  # Task Management Diagnostic
  task_lists_diagnostic: 3398
  # Mental Model
  main_thread_orchestrator: 2517
  # CLAUDE.md Patterns
  continuous_context_update: 3743
  # Hook Patterns
  smart_hook_dispatching: 6863
  # Workflows
  skeleton_projects_workflow: "guide/workflows/skeleton-projects.md"
  # Spec-First Development (Addy Osmani, Jan 2026)
  spec_first_workflow: "guide/workflows/spec-first.md"
  spec_modular_design: "guide/workflows/spec-first.md:322"
  spec_operational_boundaries: "guide/workflows/spec-first.md:372"
  spec_command_template: "guide/workflows/spec-first.md:432"
  spec_anti_monolithic: "guide/workflows/spec-first.md:472"
  spec_osmani_source: "https://addyosmani.com/blog/good-spec/"
  spec_osmani_evaluation: "docs/resource-evaluations/addy-osmani-good-spec.md"
  spec_osmani_score: "4/5"
  commands_table: 10213
  shortcuts_table: 10246
  troubleshooting: 10372
  cheatsheet: 10747
  daily_workflow: 13581
  # AI Ecosystem (Section 11, ~line 10525)
  ai_ecosystem: 10525
  ai_ecosystem_complementarity: 10527
  ai_ecosystem_tool_matrix: 10565
  ai_ecosystem_workflows: 10590
  ai_ecosystem_integration: 10716
  ai_ecosystem_detailed: "guide/ai-ecosystem.md"
  ai_ecosystem_goose: "guide/ai-ecosystem.md:1116"
  ai_ecosystem_goose_comparison: "guide/ai-ecosystem.md:1132"
  ai_ecosystem_context_packing: "guide/ai-ecosystem.md:1208"
  ai_ecosystem_multi_ide_sync: "guide/ai-ecosystem.md:1256"
  agents_md_support_status: "guide/ai-ecosystem.md:1322"
  # Architecture Diagrams as Context (advanced pattern) - Added 2026-01-25
  architecture_diagrams_input: "guide/ai-ecosystem.md:1379"
  architecture_diagrams_mcp_tools:
    - "Archy MCP: https://www.pulsemcp.com/servers/phxdev1-archy"
    - "Mermaid MCP: 61.4K users"
    - "Blueprint MCP (ArcadeAI)"
  llm_oop_research: "https://dl.acm.org/doi/10.1145/3639474.3640052"
  architecture_diagrams_source: "https://www.linkedin.com/posts/tigraff_uml-claude-wibecoding-activity-7420595633826258944-gGO5"
  ai_ecosystem_voice_to_text: "guide/ai-ecosystem.md:449"
  ai_ecosystem_alternative_providers: "guide/ai-ecosystem.md:959"
  voice_refine_skill: "examples/skills/voice-refine/SKILL.md"
  # Cowork documentation (v1.0 - migrated to dedicated repo)
  cowork_reference: "machine-readable/cowork-reference.yaml"  # Dedicated YAML index (kept local)
  cowork_hub: "https://github.com/FlorianBruniaux/claude-cowork-guide/blob/main/README.md"
  cowork_summary: "guide/cowork.md"  # Summary remains in this repo
  cowork_overview: "https://github.com/FlorianBruniaux/claude-cowork-guide/blob/main/guide/00-overview.md"
  cowork_getting_started: "https://github.com/FlorianBruniaux/claude-cowork-guide/blob/main/guide/01-getting-started.md"
  cowork_capabilities: "https://github.com/FlorianBruniaux/claude-cowork-guide/blob/main/guide/02-capabilities.md"
  cowork_security: "https://github.com/FlorianBruniaux/claude-cowork-guide/blob/main/guide/03-security.md"
  cowork_troubleshooting: "https://github.com/FlorianBruniaux/claude-cowork-guide/blob/main/guide/04-troubleshooting.md"
  cowork_cheatsheet: "https://github.com/FlorianBruniaux/claude-cowork-guide/blob/main/reference/cheatsheet.md"
  cowork_comparison: "https://github.com/FlorianBruniaux/claude-cowork-guide/blob/main/reference/comparison.md"
  cowork_faq: "https://github.com/FlorianBruniaux/claude-cowork-guide/blob/main/reference/faq.md"
  cowork_prompts: "https://github.com/FlorianBruniaux/claude-cowork-guide/tree/main/prompts"
  cowork_workflows: "https://github.com/FlorianBruniaux/claude-cowork-guide/tree/main/workflows"
  cowork_section: "guide/ai-ecosystem.md:760"
  cowork_ultimate_guide: 10759
  # Experimental Features
  teammatetool: 3294
  teammatetool_status: "Experimental, progressive rollout, feature-flagged"
  teammatetool_capabilities: "Multi-agent coordination, team messaging, swarm patterns"
  teammatetool_sources:
    - "https://gist.github.com/kieranklaassen/4f2aba89594a4aea4ad64d753984b2ea"
    - "https://github.com/anthropics/claude-code/issues/3013"
    - "https://github.com/mikekelly/claude-sneakpeek"
  # Appendix
  appendix_a_file_locations: 14356
  appendix_b_faq: 14530
  faq_clawdbot_vs_claudecode: 14532
  faq_product_managers: 14601
  appendix_c_resource_evaluation: 15214
  appendix_d_myths_vs_reality: 15257
  myths_hidden_features: 15261
  myths_tasks_api_autonomous: 15301
  myths_100x_faster: 15340
  myths_reliable_sources: 15388
  # Quiz System (257 questions, 15 categories)
  quiz_overview: "quiz/README.md"
  quiz_file: "quiz/questions.json"
  quiz_count: 257
  quiz_categories: 15
  quiz_beginner: "quiz/categories/basics,commands,shortcuts,reference"
  quiz_beginner_count: 60
  quiz_intermediate: "quiz/categories/workflows,context,agents,hooks"
  quiz_intermediate_count: 100
  quiz_advanced: "quiz/categories/mcp,production,advanced,learning,ecosystem"
  quiz_advanced_count: 97
  quiz_estimated_time_beginner: "15-20 min"
  quiz_estimated_time_intermediate: "25-30 min"
  quiz_estimated_time_advanced: "30-40 min"
  # Onboarding matrix required keys (added for v2.0.0 adaptive architecture)
  rules: 917  # Golden Rules section
  workflow: 659  # Workflow (9 steps)
  fix: 868  # Troubleshooting section
  architecture: 819  # Architecture internals
  production_safety: "guide/production-safety.md"  # Production safety rules
  security_hardening: "guide/security-hardening.md"  # Security best practices
  agent_validation_checklist: 3850  # Agent validation section in ultimate-guide.md
  git_mcp_guide: "guide/mcp-servers-ecosystem.md:102"  # Git MCP server documentation

# ════════════════════════════════════════════════════════════════
# DECISION TREE (most important - en premier)
# ════════════════════════════════════════════════════════════════
decide:
  simple_task: "just ask Claude"
  complex_task: "/plan first, then use Tasks API (v2.1.16+) or TodoWrite"
  complex_task_multi_session: "use Tasks API with CLAUDE_CODE_TASK_LIST_ID"
  context_high: "/compact (>70%) or /clear (>90%)"
  repeating: "create agent or command"
  need_docs: "Context7 MCP"
  deep_debug: "use Opus (thinking enabled by default) - Alt+T to toggle"

# ════════════════════════════════════════════════════════════════
# PROMPTING FORMULA (see deep_dive.xml_prompting for details)
# ════════════════════════════════════════════════════════════════
prompt_formula:
  WHAT: "concrete deliverable"
  WHERE: "file paths"
  HOW: "constraints, approach"
  VERIFY: "success criteria"
  example: |
    Add input validation to login form.
    WHERE: src/components/LoginForm.tsx
    HOW: Use Zod, inline errors
    VERIFY: Empty email shows error

# ════════════════════════════════════════════════════════════════
# WORKFLOW (9 steps) - see deep_dive.first_workflow
# ════════════════════════════════════════════════════════════════
workflow:
  1: "claude"
  2: "/status"
  3: "Shift+Tab×2 for plan mode (if risky)"
  4: "describe task (WHAT/WHERE/HOW/VERIFY)"
  5: "review diff"
  6: "y/n"
  7: "run tests"
  8: "commit"
  9: "/compact when >70%"

# ════════════════════════════════════════════════════════════════
# CRITICAL COMMANDS - see deep_dive.essential_commands
# ════════════════════════════════════════════════════════════════
commands:
  /compact: "compress context - USE AT >70%"
  /clear: "reset conversation - USE AT >90%"
  /status: "show context % and cost"
  /plan: "read-only mode (safe exploration)"
  /execute: "exit plan mode"
  /rewind: "undo changes"
  /model: "switch: sonnet|opus|opusplan"
  /mcp: "show MCP server status"
  /context: "detailed token breakdown"
  /teleport: "bring web session to local CLI"
  /tasks: "monitor background tasks"
  /remote-env: "configure cloud environment"

# ════════════════════════════════════════════════════════════════
# SHORTCUTS - see deep_dive.shortcuts_table
# ════════════════════════════════════════════════════════════════
shortcuts:
  Shift+Tab: "cycle: default → auto-accept → plan"
  Esc×2: "rewind/undo"
  Ctrl+C: "interrupt"
  Ctrl+R: "search command history"
  Ctrl+B: "background all tasks"
  "@file": "reference file"
  "!cmd": "shell command"

# ════════════════════════════════════════════════════════════════
# CLI FLAGS - see deep_dive.commands_table
# ════════════════════════════════════════════════════════════════
cli:
  "-c": "continue last session"
  "-r <id>": "resume specific session"
  "--teleport": "bring web session to local CLI"
  "-p": "non-interactive (pipe mode)"
  "--model X": "select model"
  "--dangerously-skip-permissions": "auto-accept ALL (danger)"
  "--debug": "verbose output"
  "--add-dir": "grant tool access to directories outside CWD"

# ════════════════════════════════════════════════════════════════
# CONTEXT MANAGEMENT - see deep_dive.context_management
# ════════════════════════════════════════════════════════════════
context:
  zones:
    green: "0-50% → work freely"
    yellow: "50-70% → be selective"
    orange: "70-90% → /compact NOW"
    red: "90%+ → /clear required"
  fresh_context: "Reset per task for long autonomous sessions - see Section 2.2 Fresh Context Pattern"
  symptoms:
    short_responses: "/compact"
    forgetting_instructions: "/clear"
    inconsistent: "context bleeding → /clear"
    slow: "/compact or /clear"

# ════════════════════════════════════════════════════════════════
# MEMORY FILES - see deep_dive.memory_files
# ════════════════════════════════════════════════════════════════
memory:
  global: "~/.claude/CLAUDE.md (not committed)"
  project_team: "./CLAUDE.md (committed)"
  project_personal: "./.claude/CLAUDE.md (not committed)"
  priority: "project > global"

# ════════════════════════════════════════════════════════════════
# .claude/ STRUCTURE - see deep_dive.claude_folder
# ════════════════════════════════════════════════════════════════
folder_structure:
  CLAUDE.md: "local instructions"
  settings.json: "hooks config (committed)"
  settings.local.json: "permissions (not committed)"
  agents/: "custom AI personas"
  commands/: "slash commands"
  hooks/: "event scripts"
  skills/: "knowledge modules"
  rules/: "auto-loaded rules"

# ════════════════════════════════════════════════════════════════
# PERMISSION MODES - see deep_dive.permission_modes
# ════════════════════════════════════════════════════════════════
permissions:
  default: "editing=ask, execution=ask"
  auto_accept: "editing=auto, execution=ask"
  plan_mode: "editing=blocked, execution=blocked"
  switch: "Shift+Tab"

# ════════════════════════════════════════════════════════════════
# MCP SERVERS - see deep_dive.mcp_servers
# ════════════════════════════════════════════════════════════════
mcp:
  serena: "symbol search + session memory (write_memory/read_memory) + project indexation"
  doobidoo_memory: "semantic memory search + Knowledge Graph dashboard + 13+ clients (⚠️ under testing)"
  doobidoo_install: "pip install mcp-memory-service && python -m mcp_memory_service.scripts.installation.install --quick"
  doobidoo_dashboard: "http://localhost:8000"
  doobidoo_vs_serena: "Serena=key-value (requires known key), doobidoo=semantic search (finds by meaning)"
  doobidoo_backends: "sqlite_vec (local), cloudflare (multi-device), hybrid (local+cloud sync)"
  doobidoo_tools: "store_memory, retrieve_memory, search_by_tag, delete_memory, list_memories, check_database_health, memory_graph"
  doobidoo_data_location: "~/.mcp-memory-service/memories.db"
  mcp_memory_stack: "4 layers: doobidoo (decisions) → Serena (symbols) → grepai (code search) → Context7 (docs)"
  mcp_complementarity_patterns: "onboarding, ADR, debug persistence, multi-IDE coordination"
  serena_indexation: "uvx --from git+https://github.com/oraios/serena serena project index [--force-full|--incremental] [--parallel N]"
  serena_cache: ".serena/cache/typescript/ (add to .gitignore)"
  context7: "library docs lookup"
  sequential: "structured multi-step reasoning"
  playwright: "browser automation / E2E"
  figma: "design file access, tokens, structure (official)"
  git_mcp: "version control automation (official Anthropic) - 12 tools for commits, branches, diffs, logs"
  git_mcp_guide: "guide/mcp-servers-ecosystem.md:102"
  git_mcp_tools: "git_status, git_log, git_diff, git_commit, git_add, git_reset, git_branch, git_create_branch, git_checkout, git_show, git_diff_unstaged, git_diff_staged"
  git_mcp_install: "uvx mcp-server-git --repository /path/to/repo"
  git_mcp_decision_matrix: "guide/mcp-servers-ecosystem.md:212"  # Git MCP vs GitHub MCP vs Bash tool
  git_mcp_repo: "https://github.com/modelcontextprotocol/servers/tree/main/src/git"
  git_mcp_score: "8.5/10"
  git_mcp_status: "Early development (API subject to change)"
  git_mcp_advanced_filtering: "ISO 8601 dates, relative dates (2 weeks ago), absolute dates"
  git_mcp_use_cases: "automated commits, log analysis, branch management, token-efficient diffs, multi-repo"
  ast_grep: "optional plugin for AST-based code search (explicit invocation required)"
  ast_grep_guide: "guide/ultimate-guide.md:6564"
  ast_grep_skill: "examples/skills/ast-grep-patterns.md"
  ast_grep_install: "npx skills add ast-grep/agent-skill"
  ast_grep_when: "structural patterns (>50k lines, migrations, AST rules)"
  ast_grep_not_for: "simple string search, small projects (<10k lines)"
  search_decision_tree: "grep (text) | ast-grep (structure) | Serena (symbols) | grepai (semantic)"
  search_tools_comparison: "guide/ultimate-guide.md:6517"
  search_tools_mastery_workflow: "guide/workflows/search-tools-mastery.md"
  grep_vs_rag_history: "guide/architecture.md:33"
  ripgrep_native: "Grep tool (Claude Code built-in, ~20ms)"
  grepai_semantic: "Semantic search + call graph (Ollama-based, ~500ms)"
  grepai_benchmark:
    source: "https://yoandev.co/grepai-benchmark"
    guide_section: "guide/workflows/search-tools-mastery.md:240"
    date: "2026-01-20"
    summary: "-55% tool calls, -97% tokens vs grep (Excalidraw 155k TS)"
    caveat: "Benchmark by tool maintainer, single-project validation"
  serena_symbols: "Symbol-aware + session memory (~100ms)"
  astgrep_structural: "AST patterns for large refactoring (~200ms)"
  search_combined_workflow: "guide/workflows/search-tools-mastery.md:205"
  check: "/mcp"
  config: ".claude/mcp.json or ~/.claude.json"
  tool_search: "lazy loading MCP tools (v2.1.7+) - 85% token reduction - auto:N threshold config"
  tool_search_config: "ENABLE_TOOL_SEARCH=auto|auto:N|true|false"
  tool_search_deep_dive: "guide/architecture.md:1000"

# ════════════════════════════════════════════════════════════════
# ARCHITECTURE INTERNALS - see guide/architecture.md
# ════════════════════════════════════════════════════════════════
architecture:
  master_loop: "while(tool_call) - no DAG, no classifier, no RAG"
  core_tools: "Bash, Read, Edit, Write, Grep, Glob, Task, TodoWrite"
  context_budget: "~200K tokens, auto-compact at 75-92%"
  subagents: "Task tool spawns isolated agents (depth=1 max)"
  teammatetool: "Experimental multi-agent coordination (v3294)"
  philosophy: "less scaffolding, more model - trust Claude's reasoning"
  mcp_protocol: "JSON-RPC 2.0, treated as native tools"
  permissions: "interactive prompts + allow/deny rules + hooks"
  deep_dive: "guide/architecture.md"

# ════════════════════════════════════════════════════════════════
# COST OPTIMIZATION - see deep_dive.cost_optimization
# ════════════════════════════════════════════════════════════════
cost:
  haiku: "simple fixes, reviews ($)"
  sonnet: "most development ($$)"
  opus: "architecture, complex bugs ($$$)"
  opusplan: "plan=opus + execute=sonnet ($$)"
  tip: "--add-dir grants tool access to additional directories (permissions, not context loading)"
  rtk: "Command output filtering (72.6% avg reduction) - rtk git log/status/diff"

# ════════════════════════════════════════════════════════════════
# TOOL SELECTION
# ════════════════════════════════════════════════════════════════
tools:
  file_search: "Glob (not find)"
  content_search: "Grep (not grep bash)"
  file_read: "Read (not cat)"
  file_edit: "Edit (not sed)"
  multi_file: "MultiEdit"
  deep_analysis: "Sequential MCP"
  library_docs: "Context7 MCP"
  browser: "Playwright MCP"

# ════════════════════════════════════════════════════════════════
# ANTI-PATTERNS - see deep_dive.pitfalls
# ════════════════════════════════════════════════════════════════
dont:
  - "vague prompts → be specific"
  - "accept without reading → read every diff"
  - "ignore >70% context → /compact"
  - "skip permissions in prod → never"
  - "bloated CLAUDE.md → keep concise (<200 lines)"
  - "only negative constraints → provide alternatives"

# ════════════════════════════════════════════════════════════════
# TROUBLESHOOTING - see deep_dive.troubleshooting
# ════════════════════════════════════════════════════════════════
fix:
  "command not found": "npm i -g @anthropic-ai/claude-code"
  "context too high": "/compact or /clear"
  "slow responses": "/compact"
  "MCP not working": "claude mcp list, check config"
  "permission denied": "check settings.local.json"
  "hook blocking": "check exit code (0=ok, 2=block)"

# ════════════════════════════════════════════════════════════════
# DEBUG COMMANDS
# ════════════════════════════════════════════════════════════════
debug:
  version: "claude --version"
  update: "claude update"
  diagnostic: "claude doctor"
  verbose: "claude --debug"
  mcp_debug: "claude --mcp-debug"

# ════════════════════════════════════════════════════════════════
# AGENT TEMPLATE - see deep_dive.agent_template
# ════════════════════════════════════════════════════════════════
agent_template: |
  ---
  name: agent-name
  description: Use when [trigger]
  model: sonnet|opus|haiku
  tools: Read, Write, Edit, Bash
  ---
  # Instructions here

# ════════════════════════════════════════════════════════════════
# HOOK EVENTS - see deep_dive.hooks
# ════════════════════════════════════════════════════════════════
hook_events:
  PreToolUse: "before tool (exit 2 to block)"
  PostToolUse: "after tool"
  UserPromptSubmit: "before prompt sent"
  Notification: "alerts"

# Hook Execution Model (v2.1.0+)
hooks_execution_model: 6075  # Section in ultimate-guide.md
hooks_async_support: "v2.1.0+ - add 'async: true' for non-blocking execution"
hooks_async_use_cases: "logging, notifications, formatting, metrics (no feedback needed)"
hooks_sync_use_cases: "validation, type checking, security (feedback required)"
hooks_decision_matrix: 6091  # Decision matrix table
hooks_async_limitations: "no exit code feedback, no additionalContext, no blocking"
hooks_async_bug_fix: "v2.1.23 - fixed cancellation in headless streaming"

# ════════════════════════════════════════════════════════════════
# GOLDEN RULES
# ════════════════════════════════════════════════════════════════
rules:
  1: "Always review diffs before accepting"
  2: "Use /compact before >70%"
  3: "Be specific (WHAT/WHERE/HOW/VERIFY)"
  4: "Plan Mode first for complex/risky"
  5: "Create CLAUDE.md for every project"
  6: "Commit frequently after each task"

# ════════════════════════════════════════════════════════════════
# ECOSYSTEM - Related resources & positioning
# ════════════════════════════════════════════════════════════════
ecosystem:
  this_guide:
    focus: "Education - Learn & master"
    unique: ["architecture docs", "TDD/SDD methodologies", "257-question quiz", "YAML index"]
  complementary:
    claude_code_templates:
      url: "github.com/davila7/claude-code-templates"
      focus: "Distribution - Install & use (CLI)"
      stars: "17k+"
    awesome_claude_code:
      url: "github.com/hesreallyhim/awesome-claude-code"
      focus: "Curation - Discover & link"
    claude_code_everything:
      url: "github.com/wesammustafa/Claude-Code-Everything"
      focus: "Visual walkthrough - Screenshots, BMAD method"
    everything_claude_code:
      url: "github.com/affaan-m/everything-claude-code"
      author: "Affaan Mustafa (Anthropic hackathon winner - Zenith project)"
      focus: "Production configs - Battle-tested from 10+ months intensive use"
      stars: "31.9k"
      verified: "2026-01-27"
      created: "2026-01-18"
      unique: ["hookify (conversational hooks)", "pass@k metrics", "Plugin ecosystem", "Sandboxed subagents", "Strategic compaction skills"]
      evaluation: "docs/resource-evaluations/015-everything-claude-code-github-repo.md"
      score: "5/5 (CRITICAL)"
      positioning: "Complementary to Ultimate Guide (production configs vs educational content)"
      note: "Consolidates existing patterns; author hackathon win was for Zenith project, not this repo"
      caveat: "Node.js hooks not officially recommended by Anthropic (shell preferred)"
    coding_agents_matrix:
      url: "coding-agents-matrix.dev"
      github: "github.com/PackmindHub/coding-agents-matrix"
      maintainer: "Packmind (Cédric Teyton, Arthur Magne)"
      license: "Apache-2.0"
      focus: "Interactive comparison of 23 AI coding agents across 11 criteria"
      updated: "2026-01-19"
      tech_stack: "React, Vite, Tailwind CSS"
      features:
        - "11 technical criteria (CLI, MCP, Skills, Commands, Subagents, Plan Mode, AGENTS.md, BYO LLM, Custom Rules, Dedicated IDE, IDE Extension)"
        - "Sortable columns and multi-filter (AND logic)"
        - "Community-driven updates (GitHub issue templates)"
        - "Open source data structure (JSON-based)"
      agents_snapshot: 23  # As of 2026-01-19 (evolves over time)
      positioning: "Discovery tool - Use Matrix to find/compare agents, use this guide to master Claude Code"
      note: "External resource - verify data freshness as agents/criteria evolve"
  practitioner_insights:
    dave_van_veen:
      url: "davevanveen.com/blog/agentic_coding/"
      author: "Dave Van Veen (PhD Stanford, Principal AI Scientist @ HOPPR)"
      focus: "Production-grade agentic coding guardrails (TDD, worktrees, manual commits)"
      academic: "Co-author 'Agentic Systems in Radiology' (ArXiv 2025)"
      alignment: "Validates patterns already documented in this guide"
      guide_section: "guide/ai-ecosystem.md:1209"
  install_templates: "scripts/install-templates.sh"
  cowork:
    description: "Claude Code for non-developers (desktop app)"
    status: "Research preview - Max/macOS only (Jan 2026)"
    blog: "https://claude.com/blog/cowork-research-preview"
    github: "https://github.com/FlorianBruniaux/claude-cowork-guide"
    guide_summary: "guide/cowork.md"  # Summary in this repo
    guide_full: "https://github.com/FlorianBruniaux/claude-cowork-guide/blob/main/README.md"
    getting_started: "https://github.com/FlorianBruniaux/claude-cowork-guide/blob/main/guide/01-getting-started.md"
    capabilities: "https://github.com/FlorianBruniaux/claude-cowork-guide/blob/main/guide/02-capabilities.md"
    security: "https://github.com/FlorianBruniaux/claude-cowork-guide/blob/main/guide/03-security.md"
    troubleshooting: "https://github.com/FlorianBruniaux/claude-cowork-guide/blob/main/guide/04-troubleshooting.md"
    cheatsheet: "https://github.com/FlorianBruniaux/claude-cowork-guide/blob/main/reference/cheatsheet.md"
    comparison: "https://github.com/FlorianBruniaux/claude-cowork-guide/blob/main/reference/comparison.md"
    faq: "https://github.com/FlorianBruniaux/claude-cowork-guide/blob/main/reference/faq.md"
    prompts: "https://github.com/FlorianBruniaux/claude-cowork-guide/tree/main/prompts"
    workflows: "https://github.com/FlorianBruniaux/claude-cowork-guide/tree/main/workflows"
  landing_sites:
    description: "Marketing sites for guide discovery and navigation"
    architecture: "4-repo ecosystem: 2 sources (docs) + 2 landings (vitrine)"
    code_landing:
      local: "/Users/florianbruniaux/Sites/perso/claude-code-ultimate-guide-landing/"
      purpose: "Marketing site for Claude Code guide"
      audience: "Developers discovering the guide"
      features: ["badges (version, templates, lines)", "quiz (257 questions)", "FAQ", "cross-links to Cowork"]
      sync_with: "Guide Code (version, templates count, guide lines)"
    cowork_landing:
      local: "/Users/florianbruniaux/Sites/perso/claude-cowork-guide-landing/"
      purpose: "Marketing site for Cowork guide"
      audience: "Knowledge workers discovering Cowork"
      features: ["prompts showcase", "workflows preview", "cross-links to Code"]
      sync_with: "Cowork guide (version, prompts count)"
    sync_triggers:
      - "Version bump → Update corresponding landing"
      - "Templates/prompts added → Update counts"
      - "Cross-links modified → Update all 4 repos"
    history:
      - date: "2026-01-20"
        event: "Code Landing sync v3.23.2, 66 templates, cross-links"
        commit: "5b5ce62"
      - date: "2026-01-20"
        event: "Cowork Landing fix (paths, README, UI badges)"
        commits: "cab83f5, af497b7, 539912b"

# ════════════════════════════════════════════════════════════════
# ONBOARDING MATRIX METADATA
# ════════════════════════════════════════════════════════════════
onboarding_matrix_meta:
  version: "2.0.0"
  last_updated: "2026-02-05"
  aligned_with_guide: "3.23.2"
  changelog:
    - version: "2.0.0"
      date: "2026-02-05"
      changes: "Adaptive architecture (core+adaptive topics), v3.21-3.22 coverage (git_mcp, sandbox_native, config_hierarchy, mcp_secrets, dual_instance), security-first (sandbox in beginner_5min), time budgets validated, learn_security goal added"
    - version: "1.0.0"
      date: "2025-12-01"
      changes: "Initial static matrix"
  maintenance:
    review_trigger: "Every CRITICAL (5/5) or HIGH VALUE (4/5) feature addition in resource evaluations"
    automation: "scripts/detect-new-onboarding-topics.sh (run monthly)"
    responsible: "Guide maintainer (quarterly review)"

# ════════════════════════════════════════════════════════════════
# ONBOARDING MATRIX - Maps user profile → content sections
# Used by tools/onboarding-prompt.md for personalized learning paths
# Format: Each profile has core (always shown) + adaptive (context-based) topics
# ════════════════════════════════════════════════════════════════
onboarding_matrix:
  # Adaptive architecture: Each profile has core (always) + adaptive (context-based) topics
  # Adaptive triggers: keywords in user messages → relevant v3.21-3.22 topics
  # Time budgets: Validated (6-8 min/topic average, respects topics_max limits)

  get_started:
    beginner_5min:
      core: [rules, sandbox_native_guide, commands]
      time_budget: "5 min"
      topics_max: 3
      note: "SECURITY FIRST - sandbox before commands (v3.23.2 critical fix)"

    beginner_15min:
      core: [rules, sandbox_native_guide, workflow, essential_commands]
      time_budget: "15 min"
      topics_max: 4
      note: "Core workflow with security foundation"

    beginner_30min:
      core: [rules, sandbox_native_guide, workflow, context_management]
      adaptive:
        - trigger: "permission|allow|deny|mode"
          topics: [permission_modes]
        - default: essential_commands
      time_budget: "30 min"
      topics_max: 5

  optimize:
    intermediate_15min:
      core: [context_management, context_triage, plan_mode]
      time_budget: "15 min"
      topics_max: 3

    intermediate_30min:
      core: [context_management, plan_mode, cost_optimization]
      adaptive:
        - trigger: "memory|persist|session|remember"
          topics: [memory_files]
        - default: batch_operations
      time_budget: "30 min"
      topics_max: 5

    power_30min:
      core: [context_triage, cost_optimization]
      adaptive:
        - trigger: "team|sync|backup|config|multi-machine|laptop|desktop"
          topics: [config_hierarchy]
        - trigger: "git|version control|commits|branches|repository"
          topics: [git_mcp_guide]
        - trigger: "secrets|API keys|credentials|env|tokens|password"
          topics: [mcp_secrets_management]
        - default: batch_operations
      time_budget: "30 min"
      topics_max: 4
      note: "Adaptive: picks up to 2 from adaptive based on user context (v3.21-3.22)"

    power_60min:
      core: [context_triage, cost_optimization, config_hierarchy]
      adaptive:
        - trigger: "git"
          topics: [git_mcp_guide]
        - trigger: "secrets"
          topics: [mcp_secrets_management]
        - trigger: "security|sandbox|isolation"
          topics: [sandbox_native_guide]
        - default: [batch_operations, rtk_guide]
      time_budget: "60 min"
      topics_max: 7
      note: "Comprehensive optimization with all v3.21-3.22 topics"

  build_agents:
    intermediate_30min:
      core: [agents, agent_template, agent_examples]
      time_budget: "30 min"
      topics_max: 3

    power_30min:
      core: [agents, skills, commands]
      adaptive:
        - trigger: "template|structure|format"
          topics: [skill_template]
        - default: hooks
      time_budget: "30 min"
      topics_max: 4

    power_60min:
      core: [agents, skills, commands, hooks]
      adaptive:
        - trigger: "quality|review|planner|dual|two instances|spec"
          topics: [dual_instance_planning]
        - trigger: "validation|checklist|production|deploy"
          topics: [agent_validation_checklist]
        - default: agent_validation_checklist
      time_budget: "60 min"
      topics_max: 6
      note: "Dual-instance pattern for quality workflows (v3.23.2)"

  learn_security:
    intermediate_30min:
      core: [sandbox_native_guide, mcp_secrets_management]
      adaptive:
        - trigger: "production|deploy|hardening|best practices"
          topics: [security_hardening]
        - default: permission_modes
      time_budget: "30 min"
      topics_max: 4
      note: "NEW goal (v3.23.2) - Security-focused learning path"

    power_60min:
      core: [sandbox_native_guide, mcp_secrets_management, security_hardening]
      adaptive:
        - trigger: "production|safe|rules|reliability"
          topics: [production_safety]
        - trigger: "docker|isolation|microvm|container"
          topics: [sandbox_isolation_guide]
        - default: production_safety
      time_budget: "60 min"
      topics_max: 5

  fix_problem:
    any_any:
      core: [troubleshooting, fix, context.symptoms]
      time_budget: "N/A"
      topics_max: 3
      note: "Direct troubleshooting, no profiling"

  learn_everything:
    beginner_60min:
      core: [rules, sandbox_native_guide, workflow, essential_commands, context_management, plan_mode]
      time_budget: "60 min"
      topics_max: 6
      note: "Security foundation + core workflow (v3.23.2 sandbox added)"

    intermediate_120min:
      core: [plan_mode, agents, skills, config_hierarchy, git_mcp_guide, hooks, mcp_servers]
      time_budget: "120 min"
      topics_max: 7
      note: "Agents + v3.21-3.22 topics (config/git)"

    power_120min:
      core: [architecture, dual_instance_planning, mcp_secrets_management, cost_optimization, cicd]
      adaptive:
        - trigger: "security"
          topics: [security_hardening, sandbox_native_guide]
        - default: [rtk_guide, bridge_guide]
      time_budget: "120 min"
      topics_max: 9
      note: "Advanced patterns + all v3.21-3.22 features"

# ════════════════════════════════════════════════════════════════
# ONBOARDING QUESTIONS - Structure for interactive profiling
# ════════════════════════════════════════════════════════════════
onboarding_questions:
  mandatory:
    goal:
      ask: "What's your goal right now?"
      options:
        get_started: "🚀 Get started quickly"
        optimize: "📈 Optimize my workflow"
        build_agents: "🏗️ Build custom agents/skills"
        learn_security: "🛡️ Learn security best practices"
        fix_problem: "🐛 Fix a problem"
        learn_everything: "📚 Learn everything"

    level:
      ask: "Experience with Claude Code?"
      options:
        beginner: "🟢 Beginner (never used / just installed)"
        intermediate: "🟡 Intermediate (daily use)"
        power: "🔴 Power User (know basics, want advanced)"

    tone:
      ask: "How do you prefer me to communicate?"
      options:
        pedagogical: "🎓 Pedagogical - Detailed explanations, understand why"
        direct: "⚡ Direct - Straight to the point"
        coaching: "🧭 Coaching - Guide me with questions"
        adaptive: "🔄 Adaptive - Mix based on complexity"

  optional:
    time:
      ask: "How much time do you have?"
      options:
        5min: "⚡ 5-10 min"
        15min: "⏱️ 15-30 min"
        30min: "🎯 30-60 min"
        60min: "📚 1+ hour"
        120min: "📖 2+ hours"
      default: "30min"

    style:
      ask: "How do you prefer to learn?"
      options:
        explain: "📖 Explanations (tell me why)"
        examples: "💻 Examples (show me code)"
        reference: "🎯 Quick reference (just the facts)"
        handson: "🏋️ Hands-on (let me try)"
      trigger: "Only ask if time >= 15min"

  # Logic for progressive questioning
  question_flow:
    fix_problem: "goal only → skip to troubleshooting"
    get_started: "goal → tone → level"
    optimize: "goal → tone → level → time → style (if time >= 15min)"
    build_agents: "goal → tone → level → time → style (if time >= 15min)"
    learn_security: "goal → tone → level → time"
    learn_everything: "goal → tone → level → time → style"

